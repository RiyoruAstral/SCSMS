<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.niit.mapper.ClassCourseMapper">

    <select id="findCourseByClassIdYear" resultType="com.niit.pojo.StudentCourse">
        SELECT
            c.cno, c.cname, t.tname, l.dname, c.year, c.dayOfWeek,c.time,c.startWeek,c.endWeek,c.semester
        FROM
            class_selection cs
                JOIN courses c ON cs.cno = c.cno
                JOIN teaching tch ON c.cno = tch.cno
                JOIN teachers t ON tch.tno = t.tno
                JOIN course_locations cl ON c.cno = cl.cno
                JOIN locations l ON cl.dno = l.dno
        WHERE
            cs.class_id = #{classId}
          AND c.year = #{year};
    </select>
</mapper>